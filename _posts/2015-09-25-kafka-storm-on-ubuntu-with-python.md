---
layout: post
title: "kafka storm on ubuntu with python"
description: ""
category: [bigdata]
tags: [kafka, storm, ubuntu, python]
---
{% include JB/setup %}


### setups

1. ubuntu

    1. topology

            +-----------------+ +-----------------+ +-----------------+
            |      node1      | |      node2      | |      node3      |
            +-----------------+ +-----------------+ +-----------------+
            | 192.168.200.151 | | 192.168.200.152 | | 192.168.200.153 |
            +-----------------+ +-----------------+ +-----------------+
            |    kafaka       | |    kafaka       | |     kafaka      |
            |    storm        | |    storm        | |     storm       |   
            |    zookeeper    | |    zookeeper    | |     zookeeper   |
            +-----------------+ +-----------------+ +-----------------+

1. zookeeper

    1. topology

            ===========================================================
                ↓       ↑           ↓       ↑           ↓       ↑
                ↓       ↑           ↓       ↑           ↓       ↑
            +-----------------+ +-----------------+ +-----------------+
            |      node1      | |      node2      | |      node3      |
            +-----------------+ +-----------------+ +-----------------+
            |    zookeeper    | |    zookeeper    | |     zookeeper   |
            +-----------------+ +-----------------+ +-----------------+

1. kafka

    1. communication between the clients and the servers

            +-----------------+ +-----------------+ +-----------------+
            |    producer1    | |    producer2    | |    producer3    |
            +-----------------+ +-----------------+ +-----------------+
                     ↓                   ↓                   ↓         
            +---------------------------------------------------------+
            |                    kafaka cluster                       |
            +---------------------------------------------------------+
                     ↓                   ↓                   ↓         
            +-----------------+ +-----------------+ +-----------------+
            |    consumer1    | |    consumer2    | |    consumer3    |
            +-----------------+ +-----------------+ +-----------------+

    1. anatomy of topic

                        +-+-+-+-+-+-+-+-+-+
            partition-0 |0|1|2|3|4|5|6|7|x| ←----- write
                        +-+-+-+-+-+-+-+-+-+
                                           
                        +-+-+-+-+-+-+-+-+-+
            partition-1 |0|1|2|3|4|5|x|     ←----- write
                        +-+-+-+-+-+-+-+-+-+
                                           
                        +-+-+-+-+-+-+-+-+-+
            partition-2 |0|1|2|3|4|5|6|x|   ←----- write
                        +-+-+-+-+-+-+-+-+-+

                    old ------------------→ new

1. storm

    1. componet of storm cluster

                                             |   +-------------+
                                             | ↔ | supervisor  |
                                             |   +-------------+
                                             |                  
                         |   +-----------+   |   +-------------+
                         | ↔ | zookeeper | ↔ | ↔ | supervisor  |
                         |   +-----------+   |   +-------------+
                         |                   |                  
            +--------+   |   +-----------+   |   +-------------+
            | nimbus | ↔ | ↔ | zookeeper | ↔ | ↔ | supervisor  |
            +--------+   |   +-----------+   |   +-------------+
                         |                   |                  
                         |   +-----------+   |   +-------------+
                         | ↔ | zookeeper | ↔ | ↔ | supervisor  |
                         |   +-----------+   |   +-------------+
                                             |                  
                                             |   +-------------+
                                             | ↔ | supervisor  |
                                             |   +-------------+

1. python

### 1. ubuntu

### 2. zookeeper

### 3. kafka

### 4. storm

### 5. python